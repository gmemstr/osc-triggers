image: alpine/edge
packages:
  - git
secrets:
  - 5799dead-65e5-4af2-9e1c-69fdfe664e15
environment:
  GITHUB_REPO: "gmemstr/osc-triggers" # Replace with your GitHub repo
sources:
  - https://git.sr.ht/~gmem/osc-triggers # Replace with your Sourcehut repo
tasks:
  - mirror-to-github: |
      cd osc-triggers
      git remote add github git@github.com:$GITHUB_REPO.git
      ssh-keyscan github.com >> ~/.ssh/known_hosts
      git push --mirror github
